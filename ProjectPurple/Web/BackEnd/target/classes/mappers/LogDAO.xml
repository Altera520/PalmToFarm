<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org/DTD Config 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="log">
	<insert id="insertLog" parameterType="com.spring.smart_plant.log.domain.DeviceLogDTO">
		INSERT INTO DEVICE_LOG
		(USED_DT, SF_CODE, ACT_NAME, USED_IP, USED_RES)
		VALUES 
		(#{usedDate},#{sfCode},#{actName},#{usedIp},#{result})
	</insert>
	<select id="getLog" parameterType="com.spring.smart_plant.log.domain.DeviceLogSearchDTO"
	resultMap="logDto">
		SELECT * FROM DEVICE_LOG
		WHERE  USED_DT=#{date} AND SF_CODE=#{sfCode}
	</select>
	
	<resultMap type="com.spring.smart_plant.log.domain.DeviceLogDTO" id="logDto">
		<result property="usedDate" column="used_dt"/>
		<result property="sfCode" column="sf_code"/>
		<result property="actName" column="act_name"/>
		<result property="usedIp" column="used_ip"/>
		<result property="result" column="used_res"/>
	</resultMap>
</mapper>